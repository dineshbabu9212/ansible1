---
  - hosts: all 
    become: yes
    become_method: sudo 
    tasks: 
    - name: clone the gifile form git to tower 
      git:
       repo: 'https://github.com/dineshbabu9212/ansible1.git'
       dest: /tmp/git3
       archive: /tmp/git3.zip
      delegate_to: localhost 
      tags: clone 
    - name: copy the clone the zip to remote machine 
      copy: 
        src: /tmp/git3.zip
        dest: /tmp/srv/git3.zip
        mode: '0777'
      delegate_to: workernode2
      tags: copy 
    - name: extraxte the zip file and run the scritp 
      unarchive:
       src: "/tmp/srv/git3.zip"
       dest : "/tmp/srv/"
       mode: 0755
       remote_src: yes
      delegate_to: workernode2
      tags: extract
 
    - name: star the script
      shell:
       sh /tmp/srv/uname.sh
      register: result 
      delegate_to: workernode2
    - name: shoe teh results
      debug:
       msg : uname is {{ result.stdout }}
         
        
